
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2014-04-02
 Rendered using Maven Reflow Skin 1.0.0 (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Paged Queries | Apache Phoenix</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="http://netdna.bootstrapcdn.com/bootswatch/2.2.2/united/bootstrap.min.css" rel="stylesheet" />
		<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/bootswatch.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/default.min.css" rel="stylesheet" />
		
		<link href="./css/lightbox.css" rel="stylesheet" />
		
		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

	</head>

	<body class="page-paged project-phoenix-site" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html"><div class="xtoplogo"></div></a>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="index.html" title="Overview">Overview </a></li>
									<li><a href="recent.html" title="New Features">New Features </a></li>
									<li><a href="roadmap.html" title="Roadmap">Roadmap </a></li>
									<li><a href="performance.html" title="Performance">Performance </a></li>
									<li><a href="team.html" title="Team">Team </a></li>
									<li><a href="mailing_list.html" title="Mailing Lists">Mailing Lists </a></li>
									<li><a href="source.html" title="Source Repository">Source Repository </a></li>
									<li><a href="issues.html" title="Issue Tracking">Issue Tracking </a></li>
									<li><a href="download.html" title="Download">Download </a></li>
									<li><a href="http://www.apache.org/licenses/" title="License" class="externalLink">License </a></li>
									<li><a href="http://www.apache.org/foundation/sponsorship.html" title="Sponsorship" class="externalLink">Sponsorship </a></li>
									<li><a href="http://www.apache.org/foundation/thanks.html" title="Thanks" class="externalLink">Thanks </a></li>
									<li><a href="http://www.apache.org/security/" title="Security" class="externalLink">Security </a></li>
								</ul>
							</li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Using <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="faq.html" title="F.A.Q.">F.A.Q. </a></li>
									<li><a href="Phoenix-in-15-minutes-or-less.html" title="Quick Start">Quick Start </a></li>
									<li><a href="building.html" title="Building">Building </a></li>
									<li><a href="tuning.html" title="Tuning">Tuning </a></li>
									<li><a href="upgrade_from_2_2.html" title="Upgrade from 2.2">Upgrade from 2.2 </a></li>
									<li><a href="secondary_indexing.html" title="Secondary Indexes">Secondary Indexes </a></li>
									<li><a href="joins.html" title="Joins">Joins </a></li>
									<li><a href="views.html" title="Views">Views </a></li>
									<li><a href="multi-tenancy.html" title="Multi tenancy">Multi tenancy </a></li>
									<li><a href="sequences.html" title="Sequences">Sequences </a></li>
									<li><a href="array_type.html" title="ARRAY type">ARRAY type </a></li>
									<li><a href="salted.html" title="Salted Tables">Salted Tables </a></li>
									<li class="active"><a href="" title="Paged Queries">Paged Queries </a></li>
									<li><a href="dynamic_columns.html" title="Dynamic Columns">Dynamic Columns </a></li>
									<li><a href="skip_scan.html" title="Skip Scan">Skip Scan </a></li>
									<li><a href="bulk_dataload.html" title="Bulk Loading">Bulk Loading </a></li>
									<li><a href="phoenix_on_emr.html" title="Amazon EMR Support">Amazon EMR Support </a></li>
									<li><a href="flume.html" title="Apache Flume Plugin">Apache Flume Plugin </a></li>
									<li><a href="pig_integration.html" title="Apache Pig Integration">Apache Pig Integration </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="language/index.html" title="Grammar">Grammar </a></li>
									<li><a href="language/functions.html" title="Functions">Functions </a></li>
									<li><a href="language/datatypes.html" title="Datatypes">Datatypes </a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="page-header">
 <h1>Paged Queries</h1>
</div> 
<p>Phoenix v 2.1 supports the use in queries of row value constructors, a standard SQL construct to enable paged queries. A row value constructor is an ordered sequence of values delimited by parentheses. For example:</p> 
<div class="source"> 
 <pre>(4, 'foo', 3.5)
('Doe', 'Jane')
(my_col1, my_col2, 'bar')
</pre>
</div> 
<p>Just like with regular values, row value constructors may be used in comparison expression like this:</p> 
<div class="source"> 
 <pre>WHERE (x,y,z) &gt;= ('foo','bar')
WHERE (last_name,first_name) = ('Jane','Doe')
</pre>
</div> 
<p>Row value constructors are compared by conceptually concatenating the values together and comparing them against each other, with the leftmost part being most significant. Section 8.2 (comparison predicates) of the SQL-92 standard explains this in detail, but here are a few examples of predicates that would evaluate to true:</p> 
<div class="source"> 
 <pre>(9, 5, 3) &gt; (8, 8)
('foo', 'bar') &lt; 'g'
(1,2) = (1,2)
</pre>
</div> 
<p>Row value constructors may also be used in an IN list expression to efficiently query for a set of rows given the composite primary key columns. For example, the following would be optimized to be a point get of three rows:</p> 
<div class="source"> 
 <pre>WHERE (x,y) IN ((1,2),(3,4),(5,6))
</pre>
</div> 
<p>Another primary use case for row value constructors is to support query-more type functionality by enabling an ordered set of rows to be incrementally stepped through. For example, the following query would step through a set of rows, 20 rows at a time:</p> 
<div class="source"> 
 <pre>SELECT title, author, isbn, description 
FROM library 
WHERE published_date &gt; 2010
AND (title, author, isbn) &gt; (?, ?, ?)
ORDER BY title, author, isbn
LIMIT 20
</pre>
</div> 
<p>Assuming that the client binds the three bind variables to the values of the last row processed, the next invocation would find the next 20 rows that match the query. If the columns you supply in your row value constructor match in order the columns from your primary key (or from a secondary index), then Phoenix will be able to turn the row value constructor expression into the start row of your scan. This enables a very efficient mechanism to locate <i>at or after</i> a row.</p>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">About</li>
						<li>
							<a href="index.html" title="Overview">Overview </a>
						</li>
						<li>
							<a href="recent.html" title="New Features">New Features </a>
						</li>
						<li>
							<a href="roadmap.html" title="Roadmap">Roadmap </a>
						</li>
						<li>
							<a href="performance.html" title="Performance">Performance </a>
						</li>
						<li>
							<a href="team.html" title="Team">Team </a>
						</li>
						<li>
							<a href="mailing_list.html" title="Mailing Lists">Mailing Lists </a>
						</li>
						<li>
							<a href="source.html" title="Source Repository">Source Repository </a>
						</li>
						<li>
							<a href="issues.html" title="Issue Tracking">Issue Tracking </a>
						</li>
						<li>
							<a href="download.html" title="Download">Download </a>
						</li>
						<li>
							<a href="http://www.apache.org/licenses/" title="License" class="externalLink">License </a>
						</li>
						<li>
							<a href="http://www.apache.org/foundation/sponsorship.html" title="Sponsorship" class="externalLink">Sponsorship </a>
						</li>
						<li>
							<a href="http://www.apache.org/foundation/thanks.html" title="Thanks" class="externalLink">Thanks </a>
						</li>
						<li>
							<a href="http://www.apache.org/security/" title="Security" class="externalLink">Security </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Using</li>
						<li>
							<a href="faq.html" title="F.A.Q.">F.A.Q. </a>
						</li>
						<li>
							<a href="Phoenix-in-15-minutes-or-less.html" title="Quick Start">Quick Start </a>
						</li>
						<li>
							<a href="building.html" title="Building">Building </a>
						</li>
						<li>
							<a href="tuning.html" title="Tuning">Tuning </a>
						</li>
						<li>
							<a href="upgrade_from_2_2.html" title="Upgrade from 2.2">Upgrade from 2.2 </a>
						</li>
						<li>
							<a href="secondary_indexing.html" title="Secondary Indexes">Secondary Indexes </a>
						</li>
						<li>
							<a href="joins.html" title="Joins">Joins </a>
						</li>
						<li>
							<a href="views.html" title="Views">Views </a>
						</li>
						<li>
							<a href="multi-tenancy.html" title="Multi tenancy">Multi tenancy </a>
						</li>
						<li>
							<a href="sequences.html" title="Sequences">Sequences </a>
						</li>
						<li>
							<a href="array_type.html" title="ARRAY type">ARRAY type </a>
						</li>
						<li>
							<a href="salted.html" title="Salted Tables">Salted Tables </a>
						</li>
						<li class="active">
							<a href="#" title="Paged Queries">Paged Queries </a>
						</li>
						<li>
							<a href="dynamic_columns.html" title="Dynamic Columns">Dynamic Columns </a>
						</li>
						<li>
							<a href="skip_scan.html" title="Skip Scan">Skip Scan </a>
						</li>
						<li>
							<a href="bulk_dataload.html" title="Bulk Loading">Bulk Loading </a>
						</li>
						<li>
							<a href="phoenix_on_emr.html" title="Amazon EMR Support">Amazon EMR Support </a>
						</li>
						<li>
							<a href="flume.html" title="Apache Flume Plugin">Apache Flume Plugin </a>
						</li>
						<li>
							<a href="pig_integration.html" title="Apache Pig Integration">Apache Pig Integration </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Reference</li>
						<li>
							<a href="language/index.html" title="Grammar">Grammar </a>
						</li>
						<li>
							<a href="language/functions.html" title="Functions">Functions </a>
						</li>
						<li>
							<a href="language/datatypes.html" title="Datatypes">Datatypes </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<form action="https://www.google.com/search" method="get"><input value="phoenix.incubator.apache.org" name="sitesearch" type="hidden"><input placeholder="Search the site&hellip;" required="required" style="width:170px;" size="18" name="q" id="query" type="search"></form>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2014 <a href="http://www.apache.org">Apache Software Foundation</a>. All Rights Reserved.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='./js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
	<script src="./js/lightbox.js"></script>
	<script src="./js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="./js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>
	
	</body>
</html>
