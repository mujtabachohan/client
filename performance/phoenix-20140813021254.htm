<html><title>Phoenix SNAPSHOT Performance</title><head><style type="text/css">table.myTable { border-collapse:collapse; } table.myTable tr { padding:5px;} table.myTable td, table.myTable th { font-size:9px; } </style></head><body style="font-family:verdana;"><font size=5 color='#448899'>Apache Phoenix Performance Result :: Wed Aug 13 14:12:54 PDT 2014</font><br><hr><font size=5 color='#333355'><i>Test Suite: INDEX_WIDEKEYS<br/><br/> Queries by Category</i></font><br><br><hr><font size=4 color='#333355'><i>Index</i></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='97' height='10'</td><td><font size=1 color='black'>6.95s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY RANGE SCAN OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a>  lidx1 lidx2 lidx3 lidx4) */ count(*) from <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='89' height='10'</td><td><font size=1 color='black'>6.37s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY RANGE SCAN OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32768]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='11' height='10'</td><td><font size=1 color='black'>0.82s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER LOCAL_INDEXED_TABLE_WIDE
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='3' height='10'</td><td><font size=1 color='black'>0.28s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY SKIP SCAN ON 2 RANGES OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765,*]
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='17' height='10'</td><td><font size=1 color='black'>1.22s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER LOCAL_INDEXED_TABLE_WIDE
    SERVER FILTER BY (USAGE.CORE < 10 OR USAGE.CORE > 90)
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a> where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1' height='10'</td><td><font size=1 color='black'>0.1s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY SKIP SCAN ON 2 KEYS OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765,1] - [-32765,100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(NONINDEXED) from <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a> where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='5' height='10'</td><td><font size=1 color='black'>0.36s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY SKIP SCAN ON 2 KEYS OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765,1] - [-32765,100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='12' height='10'</td><td><font size=1 color='black'>0.9s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 99-WAY FULL SCAN OVER MIDX4
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a>  midx1 midx2 midx3 midx4) */ count(*) from <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='10' height='10'</td><td><font size=1 color='black'>0.75s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 172-WAY FULL SCAN OVER MIDX1
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='16' height='10'</td><td><font size=1 color='black'>1.15s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER MUTABLE_INDEXED_TABLE_WIDE
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='5' height='10'</td><td><font size=1 color='black'>0.41s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 46-WAY SKIP SCAN ON 2 RANGES OVER MIDX4 [*]
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='23' height='10'</td><td><font size=1 color='black'>1.71s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER MUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY (USAGE.CORE < 10 OR USAGE.CORE > 90)
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a> where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='0' height='10'</td><td><font size=1 color='black'>0.06s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 17-WAY SKIP SCAN ON 2 KEYS OVER MIDX4 [1] - [100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(NONINDEXED) from <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a> where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='22' height='10'</td><td><font size=1 color='black'>1.64s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER MUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY USAGE.CORE IN (1,100)
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='14' height='10'</td><td><font size=1 color='black'>1.03s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 64-WAY FULL SCAN OVER IDX4
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a>  idx1 idx2 idx3 idx4) */ count(*) from <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='9' height='10'</td><td><font size=1 color='black'>0.71s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IDX1
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='15' height='10'</td><td><font size=1 color='black'>1.13s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IMMUTABLE_INDEXED_TABLE_WIDE
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='6' height='10'</td><td><font size=1 color='black'>0.45s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 26-WAY SKIP SCAN ON 2 RANGES OVER IDX4 [*]
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='24' height='10'</td><td><font size=1 color='black'>1.77s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IMMUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY (USAGE.CORE < 10 OR USAGE.CORE > 90)
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a> where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1' height='10'</td><td><font size=1 color='black'>0.09s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 30-WAY SKIP SCAN ON 2 KEYS OVER IDX4 [1] - [100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(NONINDEXED) from <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a> where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='23' height='10'</td><td><font size=1 color='black'>1.68s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IMMUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY USAGE.CORE IN (1,100)
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><hr><font size=4 color='#333355'><i>Index Creation After Data</i></font><br><br><table class="myTable"</table><table class="myTable"<tr><td><font size=1 color='black'>CREATE INDEX midx5 ON <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a> (CORE) INCLUDE (DB,ACTIVE_VISITOR)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1795' height='10'</td><td><font size=1 color='black'>128.26s</font><font size=1 color='gray'> <span title='CREATE INDEX'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>CREATE INDEX idx5 ON <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a> (CORE) INCLUDE (DB,ACTIVE_VISITOR)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1895' height='10'</td><td><font size=1 color='black'>135.38s</font><font size=1 color='gray'> <span title='CREATE INDEX'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><hr><font size=4 color='#333355'><i>Load Data</i></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>LOAD DATA <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a> [3000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='26088' height='10'</td><td><font size=1 color='black'>1863.43s</font><font size=1 color='gray'> <span title=''>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>LOAD DATA <a href='#MUTABLE_INDEXED_TABLE_WIDE'>MUTABLE_INDEXED_TABLE_WIDE</a> [3000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='40388' height='10'</td><td><font size=1 color='black'>2884.91s</font><font size=1 color='gray'> <span title=''>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>LOAD DATA <a href='#IMMUTABLE_INDEXED_TABLE_WIDE'>IMMUTABLE_INDEXED_TABLE_WIDE</a> [3000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='12609' height='10'</td><td><font size=1 color='black'>900.67s</font><font size=1 color='gray'> <span title=''>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><hr><font size=4 color='#333355'><i>Local Index Creation After Data</i></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>CREATE LOCAL INDEX lidx5 ON <a href='#LOCAL_INDEXED_TABLE_WIDE'>LOCAL_INDEXED_TABLE_WIDE</a> (CORE, HOST)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='221' height='10'</td><td><font size=1 color='black'>15.79s</font><font size=1 color='gray'> <span title='CREATE INDEX'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><table class="myTable"</table><table class="myTable"</table><hr><font size=5 color='#333355'><i><br><br>Queries by Table</i></font><br><br><hr><font size=3 color='#335566'><h4 id='LOCAL_INDEXED_TABLE_WIDE'><b>LOCAL_INDEXED_TABLE_WIDE</b></h4></font><font size=1><br><font color=gray><i>Indexing test. Phoenix 2.0+ feature. See explain plan by hovering over version label to see which index table is used.</i></font><br><br><b>ROWS</b> 3000000 [3M]<br><br><b>DDL</b> CREATE TABLE $TABLE (HOST CHAR(2) NOT NULL,DOMAIN char(200) NOT NULL,FEATURE VARCHAR NOT NULL,DATE DATE NOT NULL,USAGE.CORE BIGINT,USAGE.DB BIGINT,STATS.ACTIVE_VISITOR INTEGER, STATS.NONINDEXED INTEGER CONSTRAINT PK PRIMARY KEY (HOST, DOMAIN, FEATURE, DATE)) MAX_FILESIZE=30485760;CREATE LOCAL INDEX lidx1 ON $TABLE (CORE);CREATE LOCAL INDEX lidx2 ON $TABLE (DB);CREATE LOCAL INDEX lidx3 ON $TABLE (DB,ACTIVE_VISITOR);CREATE LOCAL INDEX lidx4 ON $TABLE (CORE,DB,ACTIVE_VISITOR);<br><br><b>DATA GENERATOR</b><br>STRING ::  Values: NA|CS|EU<br>STRING ::  Length: 200 Values: RANDOM <br>STRING ::  Values: Login|Report|Dashboard|Sales|UI<br>DATE ::  Values: SEQUENTIAL <br>INTEGER ::  Max. Value: 100 Values: RANDOM <br>INTEGER ::  Max. Value: 2000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br><br></font><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from LOCAL_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='97' height='10'</td><td><font size=1 color='black'>6.95s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY RANGE SCAN OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(LOCAL_INDEXED_TABLE_WIDE  lidx1 lidx2 lidx3 lidx4) */ count(*) from LOCAL_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='89' height='10'</td><td><font size=1 color='black'>6.37s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY RANGE SCAN OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32768]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from LOCAL_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='11' height='10'</td><td><font size=1 color='black'>0.82s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER LOCAL_INDEXED_TABLE_WIDE
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from LOCAL_INDEXED_TABLE_WIDE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='3' height='10'</td><td><font size=1 color='black'>0.28s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY SKIP SCAN ON 2 RANGES OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765,*]
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from LOCAL_INDEXED_TABLE_WIDE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='17' height='10'</td><td><font size=1 color='black'>1.22s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER LOCAL_INDEXED_TABLE_WIDE
    SERVER FILTER BY (USAGE.CORE < 10 OR USAGE.CORE > 90)
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(core) from LOCAL_INDEXED_TABLE_WIDE where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1' height='10'</td><td><font size=1 color='black'>0.1s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY SKIP SCAN ON 2 KEYS OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765,1] - [-32765,100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(NONINDEXED) from LOCAL_INDEXED_TABLE_WIDE where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='5' height='10'</td><td><font size=1 color='black'>0.36s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY SKIP SCAN ON 2 KEYS OVER _LOCAL_IDX_LOCAL_INDEXED_TABLE_WIDE [-32765,1] - [-32765,100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>CREATE LOCAL INDEX lidx5 ON LOCAL_INDEXED_TABLE_WIDE (CORE, HOST)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='221' height='10'</td><td><font size=1 color='black'>15.79s</font><font size=1 color='gray'> <span title='CREATE INDEX'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>LOAD DATA LOCAL_INDEXED_TABLE_WIDE [3000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='26088' height='10'</td><td><font size=1 color='black'>1863.43s</font><font size=1 color='gray'> <span title=''>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><hr><font size=3 color='#335566'><h4 id='MUTABLE_INDEXED_TABLE_WIDE'><b>MUTABLE_INDEXED_TABLE_WIDE</b></h4></font><font size=1><br><font color=gray><i>Indexing test. Phoenix 2.0+ feature. See explain plan by hovering over version label to see which index table is used.</i></font><br><br><b>ROWS</b> 3000000 [3M]<br><br><b>DDL</b> CREATE TABLE $TABLE (HOST CHAR(2) NOT NULL,DOMAIN char(200) NOT NULL,FEATURE VARCHAR NOT NULL,DATE DATE NOT NULL,USAGE.CORE BIGINT,USAGE.DB BIGINT,STATS.ACTIVE_VISITOR INTEGER, STATS.NONINDEXED INTEGER CONSTRAINT PK PRIMARY KEY (HOST, DOMAIN, FEATURE, DATE)) MAX_FILESIZE=30485760;CREATE INDEX midx1 ON $TABLE (CORE);CREATE INDEX midx2 ON $TABLE (DB);CREATE INDEX midx3 ON $TABLE (DB,ACTIVE_VISITOR);CREATE INDEX midx4 ON $TABLE (CORE,DB,ACTIVE_VISITOR);<br><br><b>DATA GENERATOR</b><br>STRING ::  Values: NA|CS|EU<br>STRING ::  Length: 200 Values: RANDOM <br>STRING ::  Values: Login|Report|Dashboard|Sales|UI<br>DATE ::  Values: SEQUENTIAL <br>INTEGER ::  Max. Value: 100 Values: RANDOM <br>INTEGER ::  Max. Value: 2000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br><br></font><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from MUTABLE_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='12' height='10'</td><td><font size=1 color='black'>0.9s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 99-WAY FULL SCAN OVER MIDX4
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(MUTABLE_INDEXED_TABLE_WIDE  midx1 midx2 midx3 midx4) */ count(*) from MUTABLE_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='10' height='10'</td><td><font size=1 color='black'>0.75s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 172-WAY FULL SCAN OVER MIDX1
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from MUTABLE_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='16' height='10'</td><td><font size=1 color='black'>1.15s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER MUTABLE_INDEXED_TABLE_WIDE
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from MUTABLE_INDEXED_TABLE_WIDE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='5' height='10'</td><td><font size=1 color='black'>0.41s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 46-WAY SKIP SCAN ON 2 RANGES OVER MIDX4 [*]
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from MUTABLE_INDEXED_TABLE_WIDE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='23' height='10'</td><td><font size=1 color='black'>1.71s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER MUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY (USAGE.CORE < 10 OR USAGE.CORE > 90)
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(core) from MUTABLE_INDEXED_TABLE_WIDE where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='0' height='10'</td><td><font size=1 color='black'>0.06s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 17-WAY SKIP SCAN ON 2 KEYS OVER MIDX4 [1] - [100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(NONINDEXED) from MUTABLE_INDEXED_TABLE_WIDE where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='22' height='10'</td><td><font size=1 color='black'>1.64s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER MUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY USAGE.CORE IN (1,100)
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>CREATE INDEX midx5 ON MUTABLE_INDEXED_TABLE_WIDE (CORE) INCLUDE (DB,ACTIVE_VISITOR)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1795' height='10'</td><td><font size=1 color='black'>128.26s</font><font size=1 color='gray'> <span title='CREATE INDEX'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>LOAD DATA MUTABLE_INDEXED_TABLE_WIDE [3000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='40388' height='10'</td><td><font size=1 color='black'>2884.91s</font><font size=1 color='gray'> <span title=''>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><hr><font size=3 color='#335566'><h4 id='IMMUTABLE_INDEXED_TABLE_WIDE'><b>IMMUTABLE_INDEXED_TABLE_WIDE</b></h4></font><font size=1><br><font color=gray><i>Indexing test. Phoenix 2.0+ feature. See explain plan by hovering over version label to see which index table is used.</i></font><br><br><b>ROWS</b> 3000000 [3M]<br><br><b>DDL</b> CREATE TABLE $TABLE (HOST CHAR(2) NOT NULL,DOMAIN char(200) NOT NULL,FEATURE VARCHAR NOT NULL,DATE DATE NOT NULL,USAGE.CORE BIGINT,USAGE.DB BIGINT,STATS.ACTIVE_VISITOR INTEGER, STATS.NONINDEXED INTEGER CONSTRAINT PK PRIMARY KEY (HOST, DOMAIN, FEATURE, DATE)) IMMUTABLE_ROWS=true,MAX_FILESIZE=30485760;CREATE INDEX idx1 ON $TABLE (CORE);CREATE INDEX idx2 ON $TABLE (DB);CREATE INDEX idx3 ON $TABLE (DB,ACTIVE_VISITOR);CREATE INDEX idx4 ON $TABLE (CORE,DB,ACTIVE_VISITOR);<br><br><b>DATA GENERATOR</b><br>STRING ::  Values: NA|CS|EU<br>STRING ::  Length: 200 Values: RANDOM <br>STRING ::  Values: Login|Report|Dashboard|Sales|UI<br>DATE ::  Values: SEQUENTIAL <br>INTEGER ::  Max. Value: 100 Values: RANDOM <br>INTEGER ::  Max. Value: 2000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br><br></font><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from IMMUTABLE_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='14' height='10'</td><td><font size=1 color='black'>1.03s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 64-WAY FULL SCAN OVER IDX4
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(IMMUTABLE_INDEXED_TABLE_WIDE  idx1 idx2 idx3 idx4) */ count(*) from IMMUTABLE_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='9' height='10'</td><td><font size=1 color='black'>0.71s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IDX1
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from IMMUTABLE_INDEXED_TABLE_WIDE<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='15' height='10'</td><td><font size=1 color='black'>1.13s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IMMUTABLE_INDEXED_TABLE_WIDE
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from IMMUTABLE_INDEXED_TABLE_WIDE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='6' height='10'</td><td><font size=1 color='black'>0.45s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 26-WAY SKIP SCAN ON 2 RANGES OVER IDX4 [*]
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from IMMUTABLE_INDEXED_TABLE_WIDE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='24' height='10'</td><td><font size=1 color='black'>1.77s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IMMUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY (USAGE.CORE < 10 OR USAGE.CORE > 90)
    SERVER AGGREGATE INTO DISTINCT ROWS BY [HOST, ROUND(DATE)]
CLIENT MERGE SORT'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(core) from IMMUTABLE_INDEXED_TABLE_WIDE where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1' height='10'</td><td><font size=1 color='black'>0.09s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 30-WAY SKIP SCAN ON 2 KEYS OVER IDX4 [1] - [100]
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(NONINDEXED) from IMMUTABLE_INDEXED_TABLE_WIDE where core IN (1,100)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='23' height='10'</td><td><font size=1 color='black'>1.68s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 32-WAY FULL SCAN OVER IMMUTABLE_INDEXED_TABLE_WIDE
    SERVER FILTER BY USAGE.CORE IN (1,100)
    SERVER AGGREGATE INTO SINGLE ROW'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>CREATE INDEX idx5 ON IMMUTABLE_INDEXED_TABLE_WIDE (CORE) INCLUDE (DB,ACTIVE_VISITOR)<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='1895' height='10'</td><td><font size=1 color='black'>135.38s</font><font size=1 color='gray'> <span title='CREATE INDEX'>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>LOAD DATA IMMUTABLE_INDEXED_TABLE_WIDE [3000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='12609' height='10'</td><td><font size=1 color='black'>900.67s</font><font size=1 color='gray'> <span title=''>4.0-HBASE-0.98.1-HADOOP1</span></font></td></font></tr></table><br></td></tr></table><br><hr><font size=1>Note: Hover over version label to see <i>Phoenix Query Explain Plan</i>.</font></html>