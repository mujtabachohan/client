<html><title>Phoenix SNAPSHOT Performance</title><head><style type="text/css">table.myTable { border-collapse:collapse; } table.myTable tr { padding:5px;} table.myTable td, table.myTable th { font-size:9px; } </style></head><body style="font-family:verdana;"><font size=5 color='#448899'>Phoenix Performance Result :: Mon Jan 13 12:06:18 PST 2014</font><br><hr><font size=5 color='#333355'><b>Queries by Category</b></font><br><br><hr><font size=4 color='#333355'><b>Aggregation with filter no non-pk</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> where f < 10000<br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> where f < 10000<br></td></tr></table><hr><font size=4 color='#333355'><b>ColumnFamilies-Single</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>select count(1) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> where K1 in ('A', 'B', 'C', 'D')<br></td></tr><tr><td><font size=1 color='black'>select count(1) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> where K1 in ('A', 'C')<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> where f < 1000<br></td></tr><tr><td><font size=1 color='black'>select a,b,c,d,e,f from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> where B>1000 and B<2000 and f>1000 and f<2000<br></td></tr><tr><td><font size=1 color='black'>select sum(a),sum(b),sum(c),sum(d) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> group by K1<br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>select count(1) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> where K1 in ('A', 'B', 'C', 'D')<br></td></tr><tr><td><font size=1 color='black'>select count(1) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> where K1 in ('A', 'C')<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> where f < 1000<br></td></tr><tr><td><font size=1 color='black'>select a,b,c,d,e,f from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> where B>1000 and B<2000 and f>1000 and f<2000<br></td></tr><tr><td><font size=1 color='black'>select sum(a),sum(b),sum(c),sum(d) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> group by K1<br></td></tr></table><hr><font size=4 color='#333355'><b>Large Group By</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> group by A<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> group by B<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> group by C<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> group by D<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> group by E<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> group by F<br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> group by A<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> group by B<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> group by C<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> group by D<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> group by E<br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> group by F<br></td></tr></table><hr><font size=4 color='#333355'><b>Load Data</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>LOAD DATA <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a> [10000000 ROWS]<br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>LOAD DATA <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a> [10000000 ROWS]<br></td></tr></table><hr><font size=4 color='#333355'><b>Upsert Select</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>upsert into <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a>_UPSERTSELECT select * from <a href='#CF_TABLE_14CF'>CF_TABLE_14CF</a><br></td></tr></table><table class="myTable"<tr><td><font size=1 color='black'>upsert into <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a>_UPSERTSELECT select * from <a href='#CF_TABLE_1CF'>CF_TABLE_1CF</a><br></td></tr></table><hr><font size=5 color='#333355'><b><br><br>Queries by Table</b></font><br><br><hr><font size=3 color='#335566'><h4 id='CF_TABLE_14CF'><b>CF_TABLE_14CF</b></h4></font><font size=1><br><font color=gray><i>Data is split in 14 column families. Phoenix 1.2+ uses Essential Column Family filter feature which fetches only required columns when filtering rows.</i></font><br><br><b>ROWS</b> 10000000 [10M]<br><br><b>DDL</b> CREATE TABLE IF NOT EXISTS $TABLE (K1 CHAR(1) NOT NULL, K2 VARCHAR NOT NULL, CF1.A INTEGER, CF2.B INTEGER, CF3.C INTEGER, CF4.D INTEGER, CF5.E INTEGER, CF6.F INTEGER CONSTRAINT PK PRIMARY KEY (K1,K2)) SPLIT ON ('B','C','D');CREATE TABLE IF NOT EXISTS $TABLE_UPSERTSELECT (K1 CHAR(1) NOT NULL, K2 VARCHAR NOT NULL, CF1.A INTEGER, CF2.B INTEGER, CF3.C INTEGER, CF4.D INTEGER, CF5.E INTEGER, CF6.F INTEGER CONSTRAINT PK PRIMARY KEY (K1,K2)) SPLIT ON ('B','C','D')<br><br><b>DATA GENERATOR</b><br>STRING ::  Values: A|B|C|D<br>STRING ::  Length: 10 Values: SEQUENTIAL <br>INTEGER ::  Max. Value: 100 Values: RANDOM <br>INTEGER ::  Max. Value: 1000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br>INTEGER ::  Max. Value: 100000 Values: RANDOM <br>INTEGER ::  Max. Value: 1000000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000000 Values: RANDOM <br><br></font><table class="myTable"<tr><td><font size=1 color='black'>select count(1) from CF_TABLE_14CF where K1 in ('A', 'B', 'C', 'D')<br></td></tr><tr><td><font size=1 color='black'>select count(1) from CF_TABLE_14CF where K1 in ('A', 'C')<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF where f < 1000<br></td></tr><tr><td><font size=1 color='black'>select a,b,c,d,e,f from CF_TABLE_14CF where B>1000 and B<2000 and f>1000 and f<2000<br></td></tr><tr><td><font size=1 color='black'>select sum(a),sum(b),sum(c),sum(d) from CF_TABLE_14CF group by K1<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF group by A<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF group by B<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF group by C<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF group by D<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF group by E<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF group by F<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_14CF where f < 10000<br></td></tr><tr><td><font size=1 color='black'>upsert into CF_TABLE_14CF_UPSERTSELECT select * from CF_TABLE_14CF<br></td></tr><tr><td><font size=1 color='black'>LOAD DATA CF_TABLE_14CF [10000000 ROWS]<br></td></tr></table><hr><font size=3 color='#335566'><h4 id='CF_TABLE_1CF'><b>CF_TABLE_1CF</b></h4></font><font size=1><br><font color=gray><i>Same data as in 14 column family table but this one only has a single column family. Performance should be worse in most cases.</i></font><br><br><b>ROWS</b> 10000000 [10M]<br><br><b>DDL</b> CREATE TABLE IF NOT EXISTS $TABLE (K1 CHAR(1) NOT NULL, K2 VARCHAR NOT NULL, CF.A INTEGER, CF.B INTEGER, CF.C INTEGER, CF.D INTEGER, CF.E INTEGER, CF.F INTEGER CONSTRAINT PK PRIMARY KEY (K1,K2)) SPLIT ON ('B','C','D');CREATE TABLE IF NOT EXISTS $TABLE_UPSERTSELECT (K1 CHAR(1) NOT NULL, K2 VARCHAR NOT NULL, CF.A INTEGER, CF.B INTEGER, CF.C INTEGER, CF.D INTEGER, CF.E INTEGER, CF.F INTEGER CONSTRAINT PK PRIMARY KEY (K1,K2)) SPLIT ON ('B','C','D')<br><br><b>DATA GENERATOR</b><br>STRING ::  Values: A|B|C|D<br>STRING ::  Length: 10 Values: SEQUENTIAL <br>INTEGER ::  Max. Value: 100 Values: RANDOM <br>INTEGER ::  Max. Value: 1000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br>INTEGER ::  Max. Value: 100000 Values: RANDOM <br>INTEGER ::  Max. Value: 1000000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000000 Values: RANDOM <br><br></font><table class="myTable"<tr><td><font size=1 color='black'>select count(1) from CF_TABLE_1CF where K1 in ('A', 'B', 'C', 'D')<br></td></tr><tr><td><font size=1 color='black'>select count(1) from CF_TABLE_1CF where K1 in ('A', 'C')<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF where f < 1000<br></td></tr><tr><td><font size=1 color='black'>select a,b,c,d,e,f from CF_TABLE_1CF where B>1000 and B<2000 and f>1000 and f<2000<br></td></tr><tr><td><font size=1 color='black'>select sum(a),sum(b),sum(c),sum(d) from CF_TABLE_1CF group by K1<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF group by A<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF group by B<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF group by C<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF group by D<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF group by E<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF group by F<br></td></tr><tr><td><font size=1 color='black'>select count(*) from CF_TABLE_1CF where f < 10000<br></td></tr><tr><td><font size=1 color='black'>upsert into CF_TABLE_1CF_UPSERTSELECT select * from CF_TABLE_1CF<br></td></tr><tr><td><font size=1 color='black'>LOAD DATA CF_TABLE_1CF [10000000 ROWS]<br></td></tr></table><br><hr><font size=1>Note: Hover over version label to see <i>Phoenix Query Explain Plan</i>.</font></html>