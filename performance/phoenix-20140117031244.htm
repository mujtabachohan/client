<html><title>Phoenix SNAPSHOT Performance</title><head><style type="text/css">table.myTable { border-collapse:collapse; } table.myTable tr { padding:5px;} table.myTable td, table.myTable th { font-size:9px; } </style></head><body style="font-family:verdana;"><font size=5 color='#448899'>Phoenix Performance Result :: Fri Jan 17 15:12:44 PST 2014</font><br><hr><font size=5 color='#333355'><b>Queries by Category</b></font><br><br><hr><font size=4 color='#333355'><b>Aggregation</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#TABLE_6CF'>TABLE_6CF</a><table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='48' height='10'</td><td><font size=1 color='black'>3.45s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO SINGLE ROW'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr></table><hr><font size=4 color='#333355'><b>Large Group By</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#TABLE_6CF'>TABLE_6CF</a> group by A<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='67' height='10'</td><td><font size=1 color='black'>4.8s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO DISTINCT ROWS BY [CF1.A]
CLIENT MERGE SORT'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#TABLE_6CF'>TABLE_6CF</a> group by B<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='119' height='10'</td><td><font size=1 color='black'>8.56s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO DISTINCT ROWS BY [CF2.B]
CLIENT MERGE SORT'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#TABLE_6CF'>TABLE_6CF</a> group by C<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='160' height='10'</td><td><font size=1 color='black'>11.46s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO DISTINCT ROWS BY [CF3.C]
CLIENT MERGE SORT'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#TABLE_6CF'>TABLE_6CF</a> group by D<table width='1000' cellspacing='0px'><tr><td><font size=1 color='gray'>SQL Exception - Check logs for PHOENIX-SNAPSHOT</font></td></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#TABLE_6CF'>TABLE_6CF</a> group by E<table width='1000' cellspacing='0px'><tr><td><font size=1 color='gray'>SQL Exception - Check logs for PHOENIX-SNAPSHOT</font></td></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from <a href='#TABLE_6CF'>TABLE_6CF</a> group by F<table width='1000' cellspacing='0px'><tr><td><font size=1 color='gray'>SQL Exception - Check logs for PHOENIX-SNAPSHOT</font></td></tr></table><br></td></tr></table><hr><font size=4 color='#333355'><b>Load Data</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>LOAD DATA <a href='#TABLE_6CF'>TABLE_6CF</a> [5000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='3739' height='10'</td><td><font size=1 color='black'>267.12s</font><font size=1 color='gray'> <span title=''>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr></table><hr><font size=5 color='#333355'><b><br><br>Queries by Table</b></font><br><br><hr><font size=3 color='#335566'><h4 id='TABLE_6CF'><b>TABLE_6CF</b></h4></font><font size=1><br><font color=gray><i>Data is split in 6 column families. Phoenix 1.2+ uses Essential Column Family filter feature which fetches only required columns when filtering rows.</i></font><br><br><b>ROWS</b> 5000000 [5M]<br><br><b>DDL</b> CREATE TABLE IF NOT EXISTS $TABLE (K1 CHAR(1) NOT NULL, K2 VARCHAR NOT NULL, CF1.A INTEGER, CF2.B INTEGER, CF3.C INTEGER, CF4.D INTEGER, CF5.E INTEGER, CF6.F INTEGER CONSTRAINT PK PRIMARY KEY (K1,K2)) SPLIT ON ('B','C','D');CREATE TABLE IF NOT EXISTS $TABLE_UPSERTSELECT (K1 CHAR(1) NOT NULL, K2 VARCHAR NOT NULL, CF1.A INTEGER, CF2.B INTEGER, CF3.C INTEGER, CF4.D INTEGER, CF5.E INTEGER, CF6.F INTEGER CONSTRAINT PK PRIMARY KEY (K1,K2)) SPLIT ON ('B','C','D')<br><br><b>DATA GENERATOR</b><br>STRING ::  Values: A|B|C|D<br>STRING ::  Length: 10 Values: SEQUENTIAL <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br>INTEGER ::  Max. Value: 50000 Values: RANDOM <br>INTEGER ::  Max. Value: 100000 Values: RANDOM <br>INTEGER ::  Max. Value: 200000 Values: RANDOM <br>INTEGER ::  Max. Value: 300000 Values: RANDOM <br>INTEGER ::  Max. Value: 400000 Values: RANDOM <br><br></font><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from TABLE_6CF<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='48' height='10'</td><td><font size=1 color='black'>3.45s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO SINGLE ROW'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from TABLE_6CF group by A<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='67' height='10'</td><td><font size=1 color='black'>4.8s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO DISTINCT ROWS BY [CF1.A]
CLIENT MERGE SORT'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from TABLE_6CF group by B<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='119' height='10'</td><td><font size=1 color='black'>8.56s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO DISTINCT ROWS BY [CF2.B]
CLIENT MERGE SORT'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from TABLE_6CF group by C<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='160' height='10'</td><td><font size=1 color='black'>11.46s</font><font size=1 color='gray'> <span title='CLIENT PARALLEL 4-WAY FULL SCAN OVER TABLE_6CF
    SERVER AGGREGATE INTO DISTINCT ROWS BY [CF3.C]
CLIENT MERGE SORT'>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from TABLE_6CF group by D<table width='1000' cellspacing='0px'><tr><td><font size=1 color='gray'>SQL Exception - Check logs for PHOENIX-SNAPSHOT</font></td></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from TABLE_6CF group by E<table width='1000' cellspacing='0px'><tr><td><font size=1 color='gray'>SQL Exception - Check logs for PHOENIX-SNAPSHOT</font></td></tr></table><br></td></tr><tr><td><font size=1 color='black'>select count(*) from TABLE_6CF group by F<table width='1000' cellspacing='0px'><tr><td><font size=1 color='gray'>SQL Exception - Check logs for PHOENIX-SNAPSHOT</font></td></tr></table><br></td></tr><tr><td><font size=1 color='black'>LOAD DATA TABLE_6CF [5000000 ROWS]<table width='1000' cellspacing='0px'><tr><td bgcolor='#D5E5D5' width='3739' height='10'</td><td><font size=1 color='black'>267.12s</font><font size=1 color='gray'> <span title=''>PHOENIX-SNAPSHOT</span></font></td></font></tr></table><br></td></tr></table><br><hr><font size=1>Note: Hover over version label to see <i>Phoenix Query Explain Plan</i>.</font></html>