<html><title>Phoenix SNAPSHOT Performance</title><head><style type="text/css">table.myTable { border-collapse:collapse; } table.myTable tr { padding:5px;} table.myTable td, table.myTable th { font-size:9px; } </style></head><body style="font-family:verdana;"><font size=5 color='#448899'>Apache Phoenix Performance Result :: Tue Feb 18 11:01:04 PST 2014</font><br><hr><font size=5 color='#333355'><b>Queries by Category</b></font><br><br><hr><font size=4 color='#333355'><b>Index</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  midx1 midx2 midx3 midx4) */ count(*) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a><br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  mids1 mids2 mids3 mids4) */ count(*) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a><br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a><br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where (CORE<10 or CORE>90) group by round(date, 'day',50), host<br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  midx1 midx2 midx3 midx4) */ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  mids1 mids2 mids3 mids4) */ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  midx1 midx2 midx3 midx4) */ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  mids1 mids2 mids3 mids4) */ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  midx1 midx2 midx3 midx4) */ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(<a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a>  mids1 mids2 mids3 mids4) */ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core < 100 and db < 2000<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core < 100 and db < 2000<br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core > 90<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core > 90<br></td></tr><tr><td><font size=1 color='black'>select count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core > 0<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where core > 0<br></td></tr><tr><td><font size=1 color='black'>select db from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where db >5 and db <7 order by db<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ db from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> where db >5 and db <7 order by db<br></td></tr><tr><td><font size=1 color='black'>select db from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> order by db limit 10<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ db from <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> order by db limit 10<br></td></tr></table><hr><font size=4 color='#333355'><b>Index Creation After Data</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>CREATE INDEX midx5 ON <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> (CORE) INCLUDE (DB,ACTIVE_VISITOR)<br></td></tr></table><hr><font size=4 color='#333355'><b>Load Data</b></font><br><br><table class="myTable"<tr><td><font size=1 color='black'>LOAD DATA <a href='#INDEXED_TABLE_MUTABLE'>INDEXED_TABLE_MUTABLE</a> [500000 ROWS]<br></td></tr></table><hr><font size=5 color='#333355'><b><br><br>Queries by Table</b></font><br><br><hr><font size=3 color='#335566'><h4 id='INDEXED_TABLE_MUTABLE'><b>INDEXED_TABLE_MUTABLE</b></h4></font><font size=1><br><font color=gray><i>Indexing test. Phoenix 2.0+ feature. See explain plan by hovering over version label to see which index table is used.</i></font><br><br><b>ROWS</b> 500000 [0M]<br><br><b>DDL</b> CREATE TABLE $TABLE (HOST CHAR(2) NOT NULL,DOMAIN VARCHAR NOT NULL,FEATURE VARCHAR NOT NULL,DATE DATE NOT NULL,USAGE.CORE BIGINT,USAGE.DB BIGINT,STATS.ACTIVE_VISITOR INTEGER CONSTRAINT PK PRIMARY KEY (HOST, DOMAIN, FEATURE, DATE)) MAX_FILESIZE=30485760;CREATE INDEX midx1 ON $TABLE (CORE);CREATE INDEX midx2 ON $TABLE (DB);CREATE INDEX midx3 ON $TABLE (DB,ACTIVE_VISITOR);CREATE INDEX midx4 ON $TABLE (CORE,DB,ACTIVE_VISITOR);CREATE INDEX mids1 ON $TABLE (CORE) SALT_BUCKETS=16;CREATE INDEX mids2 ON $TABLE (DB) SALT_BUCKETS=16;CREATE INDEX mids3 ON $TABLE (DB,ACTIVE_VISITOR) SALT_BUCKETS=16;CREATE INDEX mids4 ON $TABLE (CORE,DB,ACTIVE_VISITOR) SALT_BUCKETS=16;<br><br><b>DATA GENERATOR</b><br>STRING ::  Values: NA|CS|EU<br>STRING ::  Values: Salesforce.com|Apple.com|Google.com|Yelp.com<br>STRING ::  Values: Login|Report|Dashboard|Sales|UI<br>DATE ::  Values: SEQUENTIAL <br>INTEGER ::  Max. Value: 100 Values: RANDOM <br>INTEGER ::  Max. Value: 2000 Values: RANDOM <br>INTEGER ::  Max. Value: 10000 Values: RANDOM <br><br></font><table class="myTable"<tr><td><font size=1 color='black'>select count(*) from INDEXED_TABLE_MUTABLE<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  midx1 midx2 midx3 midx4) */ count(*) from INDEXED_TABLE_MUTABLE<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  mids1 mids2 mids3 mids4) */ count(*) from INDEXED_TABLE_MUTABLE<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(*) from INDEXED_TABLE_MUTABLE<br></td></tr><tr><td><font size=1 color='black'>select round(date, 'day',50), sum(core)+2 from INDEXED_TABLE_MUTABLE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ round(date, 'day',50), sum(core)+2 from INDEXED_TABLE_MUTABLE where (CORE<10 or CORE>90) group by round(date, 'day',50), host<br></td></tr><tr><td><font size=1 color='black'>select count(core) from INDEXED_TABLE_MUTABLE where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  midx1 midx2 midx3 midx4) */ count(core) from INDEXED_TABLE_MUTABLE where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  mids1 mids2 mids3 mids4) */ count(core) from INDEXED_TABLE_MUTABLE where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from INDEXED_TABLE_MUTABLE where core IN (1,100)<br></td></tr><tr><td><font size=1 color='black'>select count(core) from INDEXED_TABLE_MUTABLE where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  midx1 midx2 midx3 midx4) */ count(core) from INDEXED_TABLE_MUTABLE where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  mids1 mids2 mids3 mids4) */ count(core) from INDEXED_TABLE_MUTABLE where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from INDEXED_TABLE_MUTABLE where core IN (1,25,50,75,100)<br></td></tr><tr><td><font size=1 color='black'>select count(core) from INDEXED_TABLE_MUTABLE where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  midx1 midx2 midx3 midx4) */ count(core) from INDEXED_TABLE_MUTABLE where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select /*+ INDEX(INDEXED_TABLE_MUTABLE  mids1 mids2 mids3 mids4) */ count(core) from INDEXED_TABLE_MUTABLE where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from INDEXED_TABLE_MUTABLE where core < 10 and db < 200<br></td></tr><tr><td><font size=1 color='black'>select count(core) from INDEXED_TABLE_MUTABLE where core < 100 and db < 2000<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from INDEXED_TABLE_MUTABLE where core < 100 and db < 2000<br></td></tr><tr><td><font size=1 color='black'>select count(core) from INDEXED_TABLE_MUTABLE where core > 90<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from INDEXED_TABLE_MUTABLE where core > 90<br></td></tr><tr><td><font size=1 color='black'>select count(core) from INDEXED_TABLE_MUTABLE where core > 0<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ count(core) from INDEXED_TABLE_MUTABLE where core > 0<br></td></tr><tr><td><font size=1 color='black'>select db from INDEXED_TABLE_MUTABLE where db >5 and db <7 order by db<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ db from INDEXED_TABLE_MUTABLE where db >5 and db <7 order by db<br></td></tr><tr><td><font size=1 color='black'>select db from INDEXED_TABLE_MUTABLE order by db limit 10<br></td></tr><tr><td><font size=1 color='black'>select /*+NO_INDEX*/ db from INDEXED_TABLE_MUTABLE order by db limit 10<br></td></tr><tr><td><font size=1 color='black'>CREATE INDEX midx5 ON INDEXED_TABLE_MUTABLE (CORE) INCLUDE (DB,ACTIVE_VISITOR)<br></td></tr><tr><td><font size=1 color='black'>LOAD DATA INDEXED_TABLE_MUTABLE [500000 ROWS]<br></td></tr></table><br><hr><font size=1>Note: Hover over version label to see <i>Phoenix Query Explain Plan</i>.</font></html>